(window["webpackJsonpvisualize-the-data"]=window["webpackJsonpvisualize-the-data"]||[]).push([[0],{12:function(e,t,a){e.exports=a.p+"static/media/Data.97a0d9a8.csv"},15:function(e,t,a){e.exports=a(28)},20:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(11),l=a.n(i),s=(a(20),a(21),a(22),a(1)),r=a(2),c=a(6),m=a(4),u=a(5),d=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement("nav",{className:"bg-light p-3"},o.a.createElement("div",{className:"text-center"},o.a.createElement("h3",null,"Data Visualizer"))))}}]),t}(n.Component),p=a(7),b=a(3),g=(a(23),a(24),a(25),a(9)),v=a.n(g),h=a(13),k=a(8),f=a.n(k),C=a(12),E=a.n(C),B=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).uploadAndParse=function(e){var t=Object(b.a)(a);e.preventDefault(),h.a(E.a).then(function(e){t.setState({d3ParsedData:e})})},a.handleInputChange=function(e,t,n,o){var i;("file"===e&&a.setState({fileData:o.target.files[0],fileName:o.target.value.split("\\")[2]}),"radio"===e)&&(a.setState((i={},Object(p.a)(i,t,!0),Object(p.a)(i,n,!1),Object(p.a)(i,"pointType",t),i)),a.destroyMap(),a.createMap())},a.generateMap=function(e){var t=[];if(e.preventDefault(),a.state.d3ParsedData.length>0&&(t=a.state.d3ParsedData.map(function(e,t){return a.state.source?["Source point "+t,e.from_lat,e.from_long]:a.state.destination?["Destination point "+t,e.to_lat,e.to_long]:[]})),t.length>0){a.state.mapInstance.setView([t[0][1],t[0][2]],10);f.a.tileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://openstreetmap.org">OpenStreetMap</a> Contributors',maxZoom:18}).addTo(a.state.mapInstance);for(var n=0;n<1e3;n++)"NULL"===t[n][1]&&"NULL"===t[n][2]||new f.a.marker([t[n][1],t[n][2]]).bindPopup(t[n][0]).addTo(a.state.mapInstance)}a.visualizeBookingMedium(),a.visualizeTravelType()},a.createMap=function(){a.setState({mapInstance:f.a.map("mapDiv")})},a.destroyMap=function(){a.state.mapInstance&&a.state.mapInstance.remove()},a.visualizeBookingMedium=function(){if(a.state.d3ParsedData.length>0){var e=[{month:"Jan",mobileBookingCount:0,onlineBookingCount:0},{month:"Feb",mobileBookingCount:0,onlineBookingCount:0},{month:"March",mobileBookingCount:0,onlineBookingCount:0},{month:"April",mobileBookingCount:0,onlineBookingCount:0},{month:"May",mobileBookingCount:0,onlineBookingCount:0},{month:"June",mobileBookingCount:0,onlineBookingCount:0},{month:"July",mobileBookingCount:0,onlineBookingCount:0},{month:"Aug",mobileBookingCount:0,onlineBookingCount:0},{month:"Sept",mobileBookingCount:0,onlineBookingCount:0},{month:"Oct",mobileBookingCount:0,onlineBookingCount:0},{month:"Nov",mobileBookingCount:0,onlineBookingCount:0},{month:"Dev",mobileBookingCount:0,onlineBookingCount:0}];a.state.d3ParsedData.forEach(function(t){switch(t.booking_created.split("/")[0]){case"1":e[0].mobileBookingCount+=parseInt(t.mobile_site_booking),e[0].onlineBookingCount+=parseInt(t.online_booking);break;case"2":e[1].mobileBookingCount+=parseInt(t.mobile_site_booking),e[1].onlineBookingCount+=parseInt(t.online_booking);break;case"3":e[2].mobileBookingCount+=parseInt(t.mobile_site_booking),e[2].onlineBookingCount+=parseInt(t.online_booking);break;case"4":e[3].mobileBookingCount+=parseInt(t.mobile_site_booking),e[3].onlineBookingCount+=parseInt(t.online_booking);break;case"5":e[4].mobileBookingCount+=parseInt(t.mobile_site_booking),e[4].onlineBookingCount+=parseInt(t.online_booking);break;case"6":e[5].mobileBookingCount+=parseInt(t.mobile_site_booking),e[5].onlineBookingCount+=parseInt(t.online_booking);break;case"7":e[6].mobileBookingCount+=parseInt(t.mobile_site_booking),e[6].onlineBookingCount+=parseInt(t.online_booking);break;case"8":e[7].mobileBookingCount+=parseInt(t.mobile_site_booking),e[7].onlineBookingCount+=parseInt(t.online_booking);break;case"9":e[8].mobileBookingCount+=parseInt(t.mobile_site_booking),e[8].onlineBookingCount+=parseInt(t.online_booking);break;case"10":e[9].mobileBookingCount+=parseInt(t.mobile_site_booking),e[9].onlineBookingCount+=parseInt(t.online_booking);break;case"11":e[10].mobileBookingCount+=parseInt(t.mobile_site_booking),e[10].onlineBookingCount+=parseInt(t.online_booking);break;case"12":e[11].mobileBookingCount+=parseInt(t.mobile_site_booking),e[11].onlineBookingCount+=parseInt(t.online_booking)}});var t=[[],[]];e.forEach(function(e){t[0].push(e.mobileBookingCount),t[1].push(e.onlineBookingCount)}),a.setState({bookingMediumData:{tempData:e,visualizedData:t}}),console.log(t)}},a.visualizeTravelType=function(){if(a.state.d3ParsedData.length>0){var e=[{travelTypeValue:"1",travelTypeName:"Long Distance",count:0},{travelTypeValue:"2",travelTypeName:"Point to Point",count:0},{travelTypeValue:"3",travelTypeName:"Hourly Rental",count:0}];a.state.d3ParsedData.forEach(function(t){switch(t.travel_type_id){case"1":e[0].count+=1;break;case"2":e[1].count+=1;break;case"3":e[2].count+=1}});var t=[];e.forEach(function(e){t.push(e.count)}),a.setState({travelTypeData:{tempData:e,visualizedData:t}})}},a.visualizedData=function(){a.setState({displayChartDiv:!0}),v.a.chart("booking-medium-map",{chart:{type:"line"},title:{text:"Medium of Booking in 2013"},xAxis:{categories:["Jan","Feb","March","April","May","June","July","Aug","Sept","Oct","Nov","Dev"]},yAxis:{title:{text:"Range"}},series:[{name:"Total Mobile Site Booking",data:a.state.bookingMediumData.visualizedData[0]},{name:"Total Online Booking",data:a.state.bookingMediumData.visualizedData[1]}]}),v.a.chart("travel-type-map",{chart:{type:"bar"},title:{text:"Type of Travel booked in 2013"},xAxis:{categories:["Long Distance","Point to Point","Hourly Rental"]},yAxis:{title:{text:"Range"}},series:[{name:"Total Travel Type",data:a.state.travelTypeData.visualizedData}]})},a.state={fileData:"",fileName:"",parsedData:null,d3ParsedData:[],source:!1,destination:!1,pointType:null,pointData:null,mapInstance:null,bookingMediumData:[],travelTypeData:[],displayChartDiv:!1},a}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement("main",null,o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"mt-4 mb-4"},o.a.createElement("div",{className:"main-div mb-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-6"},o.a.createElement("div",{className:"form-div"},o.a.createElement("form",{onSubmit:this.uploadAndParse.bind(null)},o.a.createElement("div",{className:"form-group"},o.a.createElement("div",{className:"head-div"},o.a.createElement("h3",null,"Choose the relevant .csv file to visualize the data")),o.a.createElement("div",{className:"custom-file"},o.a.createElement("input",{type:"file",className:"custom-file-input",id:"customFile",onChange:this.handleInputChange.bind(null,"file",null,null)}),o.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},this.state.fileName?this.state.fileName:"Choose file")),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary mt-3",type:"submit"},"Upload the file(Click here for now to initiate)")))),o.a.createElement("div",{className:"main-filter"},o.a.createElement("h5",null,"Choose the option below to display points on the map:"),o.a.createElement("form",{onSubmit:this.generateMap.bind(null)},o.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},o.a.createElement("label",null,o.a.createElement("input",{type:"radio",name:"filter-radio-btn",checked:this.state.source,className:"radio-btn",onChange:this.handleInputChange.bind(null,"radio","source","destination"),required:!0}),"All the source point of the taxi")),o.a.createElement("div",{className:"custom-control custom-radio custom-control-inline"},o.a.createElement("label",null,o.a.createElement("input",{type:"radio",name:"filter-radio-btn",className:"radio-btn",onChange:this.handleInputChange.bind(null,"radio","destination","source"),checked:this.state.destination,required:!0}),"All the destination point of the taxi")),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary mt-3",type:"submit"},"Generate Map"))),o.a.createElement("div",null,o.a.createElement("button",{className:"btn btn-primary mt-3",onClick:this.visualizedData.bind(null)},"Click here for more visualization"))))),o.a.createElement("div",{className:"col-12 col-sm-6"},o.a.createElement("div",{className:"map-container"},o.a.createElement("div",{className:"map",id:"mapDiv"}))))),o.a.createElement("div",{className:this.state.displayChartDiv?"sec-visualize-div d-block":"sec-visualize-div d-none"},o.a.createElement("div",{className:"head-div text-center"},o.a.createElement("h3",null,"More data can be Visualized here:- ")),o.a.createElement("div",{className:"row mt-3"},o.a.createElement("div",{className:"col-12 col-sm-6"},o.a.createElement("div",{className:"chart-div"},o.a.createElement("div",{className:"chart-head-div text-center"},o.a.createElement("h5",null,"Chart 1")),o.a.createElement("div",{className:"filter-div"}),o.a.createElement("div",{className:"chart-container"},o.a.createElement("div",{id:"booking-medium-map"})))),o.a.createElement("div",{className:"col-12 col-sm-6"},o.a.createElement("div",{className:"chart-div"},o.a.createElement("div",{className:"chart-head-div text-center"},o.a.createElement("h5",null,"Chart 2")),o.a.createElement("div",{className:"filter-div"}),o.a.createElement("div",{className:"chart-container"},o.a.createElement("div",{id:"travel-type-map"})))))))))}}]),t}(n.Component);var y=function(){return o.a.createElement("div",{className:""},o.a.createElement(d,null),o.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.a6e58096.chunk.js.map